{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\fskn\\\\Documents\\\\3 semester\\\\Outsource Edit version\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\fskn\\\\Documents\\\\3 semester\\\\Outsource Edit version\\\\src\\\\components\\\\LoggedIn\\\\LoggedIn.js\";\nimport React, { useState, useEffect } from 'react';\nimport facade from '../../services/apiFacade';\nimport Login from \"../Login\";\nimport apiFacade from \"../../services/apiFacade\";\nimport './LoggedIn.scss';\n\nfunction LoggedIn() {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        username = _useState2[0],\n        setUserName = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        loggedIn = _useState4[0],\n        setLoggedIn = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        error = _useState6[0],\n        setError = _useState6[1];\n\n  const logout = () => {\n    apiFacade.logout();\n    setLoggedIn({\n      loggedIn: false\n    });\n  };\n\n  const login = (user, pass) => {\n    apiFacade.login(user, pass).then(response => {\n      setLoggedIn(true);\n      setError(\"\");\n    }).catch(err => setError(\"Username or password is incorrect. Try again!\"));\n  };\n\n  useEffect(() => {\n    facade.fetchData().then(data => {\n      setUserName(data.username);\n    });\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, !loggedIn.loggedIn ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Login, {\n    login: login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, error)) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Data Received from server\"), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, username)), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: logout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Sign out\")));\n}\n\nexport default LoggedIn;","map":{"version":3,"sources":["C:/Users/fskn/Documents/3 semester/Outsource Edit version/src/components/LoggedIn/LoggedIn.js"],"names":["React","useState","useEffect","facade","Login","apiFacade","LoggedIn","username","setUserName","loggedIn","setLoggedIn","error","setError","logout","login","user","pass","then","response","catch","err","fetchData","data"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAO,iBAAP;;AAEA,SAASC,QAAT,GAAoB;AAAA,oBACcL,QAAQ,EADtB;AAAA;AAAA,QACXM,QADW;AAAA,QACDC,WADC;;AAAA,qBAEcP,QAAQ,CAAC,KAAD,CAFtB;AAAA;AAAA,QAEXQ,QAFW;AAAA,QAEDC,WAFC;;AAAA,qBAGQT,QAAQ,EAHhB;AAAA;AAAA,QAGXU,KAHW;AAAA,QAGJC,QAHI;;AAKlB,QAAMC,MAAM,GAAG,MAAM;AACnBR,IAAAA,SAAS,CAACQ,MAAV;AACAH,IAAAA,WAAW,CAAC;AAAED,MAAAA,QAAQ,EAAE;AAAZ,KAAD,CAAX;AACD,GAHD;;AAKA,QAAMK,KAAK,GAAG,CAACC,IAAD,EAAOC,IAAP,KAAgB;AAC5BX,IAAAA,SAAS,CAACS,KAAV,CAAgBC,IAAhB,EAAsBC,IAAtB,EACGC,IADH,CACQC,QAAQ,IAAI;AAChBR,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAE,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACD,KAJH,EAKGO,KALH,CAKSC,GAAG,IAAIR,QAAQ,CAAC,+CAAD,CALxB;AAMD,GAPD;;AASAV,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,MAAM,CAACkB,SAAP,GAAmBJ,IAAnB,CAAwBK,IAAI,IAAI;AAAEd,MAAAA,WAAW,CAACc,IAAI,CAACf,QAAN,CAAX;AAA4B,KAA9D;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA,SAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACE,QAAQ,CAACA,QAAV,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEK,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIH,KAAJ,CAFF,CADD,GAMG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKJ,QAAL,CAFF,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAME;AAAQ,IAAA,OAAO,EAAEM,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,CAPN,CAFF;AAsBD;;AAED,eAAeP,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport facade from '../../services/apiFacade';\r\nimport Login from \"../Login\";\r\nimport apiFacade from \"../../services/apiFacade\";\r\nimport './LoggedIn.scss';\r\n\r\nfunction LoggedIn() {\r\n  const [username, setUserName] = useState();\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  const logout = () => {\r\n    apiFacade.logout();\r\n    setLoggedIn({ loggedIn: false });\r\n  };\r\n\r\n  const login = (user, pass) => {\r\n    apiFacade.login(user, pass)\r\n      .then(response => {\r\n        setLoggedIn(true);\r\n        setError(\"\");\r\n      })\r\n      .catch(err => setError(\"Username or password is incorrect. Try again!\"));\r\n  };\r\n\r\n  useEffect(() => {\r\n    facade.fetchData().then(data => { setUserName(data.username) })\r\n  }, [])\r\n\r\n  return (\r\n\r\n    <div>\r\n      {!loggedIn.loggedIn ? (\r\n        <div>\r\n          <Login login={login} />\r\n          <p>{error}</p>\r\n        </div>\r\n      ) : (\r\n          <div>\r\n            <div>\r\n              <h2>Data Received from server</h2>\r\n              <h3>{username}</h3>\r\n            </div>\r\n            <br></br>\r\n            <button onClick={logout}>Sign out</button>\r\n          </div>\r\n        )}\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default LoggedIn;"]},"metadata":{},"sourceType":"module"}