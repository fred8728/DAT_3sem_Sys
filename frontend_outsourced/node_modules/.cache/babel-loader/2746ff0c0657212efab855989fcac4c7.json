{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\fskn\\\\Documents\\\\3 semester\\\\Flow 4\\\\Sys_2019\\\\frontend_outsourced\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\fskn\\\\Documents\\\\3 semester\\\\Flow 4\\\\Sys_2019\\\\frontend_outsourced\\\\src\\\\components\\\\SearchPage\\\\SearchPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, useRouteMatch, Switch, NavLink, Route, Link } from \"react-router-dom\"; //import InputField from \"@kiwicom/orbit-components/lib/InputField\";\n\nimport apiFacade from \"../../services/apiFacade\";\nimport Login from \"../Login\";\nimport LoggedIn from \"../LoggedIn\";\nimport Recipes from \"../Recipes\";\nimport AllRecipes from \"../Recipes\";\nimport SearchForm from '../SearchForm';\n\nconst SearchPage = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        recipes = _useState2[0],\n        setRecipes = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        searchTerm = _useState4[0],\n        setSearchTerm = _useState4[1];\n\n  let match = useRouteMatch();\n\n  const handleChange = e => {\n    setSearchTerm(e.target.value);\n    console.log(recipes);\n  };\n\n  useEffect(() => {\n    apiFacade.getRecipes().then(data => {\n      setRecipes(data.results);\n      console.log(\"check data\", data.results);\n    });\n  }, [searchTerm]); // implement a filter method which takes an array and can filter the\n  // the values it needs and filter out them i dont need.\n\n  return React.createElement(\"section\", {\n    className: \"section section-recipes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Search\"), React.createElement(SearchForm, {\n    value: searchTerm,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"recipe-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, recipes.filter(recipe => {\n    return recipe.title.toLowerCase().includes(searchTerm.toLowerCase()) || recipe.ingredients.toLowerCase().includes(searchTerm.toLowerCase());\n  }).map((data, index) => React.createElement(\"div\", {\n    className: \"item\",\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"item-img\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: data.thumbnail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"item-r\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"item-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, data.title), React.createElement(\"div\", {\n    className: \"item-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"portions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"icon icon-portion\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"4 portions\")), React.createElement(\"div\", {\n    className: \"time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"icon icon-time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"1 h 30 m\")))), React.createElement(\"div\", {\n    className: \"item-links\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Link, {\n    className: \"btn btn-green btn-sm btn-block\",\n    to: \"\".concat(match.url, \"/\").concat(data.title, \"/\").concat(data.ingredients, \"/\").concat(data.href),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Details\"), React.createElement(Link, {\n    className: \"btn btn-grey btn-sm btn-block\",\n    to: data.href,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Link\"))))));\n};\n\nexport default SearchPage;","map":{"version":3,"sources":["C:/Users/fskn/Documents/3 semester/Flow 4/Sys_2019/frontend_outsourced/src/components/SearchPage/SearchPage.js"],"names":["React","useState","useEffect","BrowserRouter","useRouteMatch","Switch","NavLink","Route","Link","apiFacade","Login","LoggedIn","Recipes","AllRecipes","SearchForm","SearchPage","recipes","setRecipes","searchTerm","setSearchTerm","match","handleChange","e","target","value","console","log","getRecipes","then","data","results","filter","recipe","title","toLowerCase","includes","ingredients","map","index","thumbnail","url","href"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter, useRouteMatch, Switch, NavLink, Route, Link } from \"react-router-dom\";\r\n//import InputField from \"@kiwicom/orbit-components/lib/InputField\";\r\nimport apiFacade from \"../../services/apiFacade\";\r\nimport Login from \"../Login\";\r\nimport LoggedIn from \"../LoggedIn\";\r\nimport Recipes from \"../Recipes\";\r\nimport AllRecipes from \"../Recipes\";\r\nimport SearchForm from '../SearchForm';\r\n\r\nconst SearchPage = () => {\r\n\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  let match = useRouteMatch();\r\n  const handleChange = e => {\r\n    setSearchTerm(e.target.value);\r\n    console.log(recipes)\r\n  };\r\n  useEffect(() => {\r\n    apiFacade.getRecipes().then(data => {\r\n      setRecipes(data.results)\r\n      console.log(\"check data\", data.results)\r\n    });\r\n  }, [searchTerm]);\r\n\r\n  // implement a filter method which takes an array and can filter the\r\n  // the values it needs and filter out them i dont need.\r\n  return (\r\n    <section className=\"section section-recipes\">\r\n      <h1>Search</h1>\r\n      \r\n      <SearchForm value={searchTerm} onChange={handleChange} />\r\n\r\n      <div className=\"recipe-list\">\r\n      {recipes\r\n        .filter(recipe => {\r\n          return (\r\n            recipe.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            recipe.ingredients.toLowerCase().includes(searchTerm.toLowerCase())\r\n          )\r\n        }\r\n        )\r\n        .map((data, index) => (\r\n          \r\n          <div className=\"item\" key={index}>\r\n            <div className=\"item-img\">{<img src={data.thumbnail} />}</div>\r\n            <div className=\"item-r\">\r\n              <div className=\"item-title\">{data.title}</div>\r\n              <div className=\"item-info\">\r\n                <div className=\"portions\">\r\n                  <i className=\"icon icon-portion\"></i>\r\n                  <span>4 portions</span>\r\n                </div>\r\n                <div className=\"time\">\r\n                  <i className=\"icon icon-time\"></i>\r\n                  <span>1 h 30 m</span>\r\n                </div>\r\n              </div>\r\n              \r\n            </div>\r\n            <div className=\"item-links\">\r\n                <Link className=\"btn btn-green btn-sm btn-block\" to={`${match.url}/${data.title}/${data.ingredients}/${data.href}`}>\r\n                  Details\r\n                </Link>\r\n                <Link className=\"btn btn-grey btn-sm btn-block\" to={data.href}>Link</Link>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}